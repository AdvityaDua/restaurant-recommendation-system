<!DOCTYPE html>
<html lang="en">
<head>
    <title>Home</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.3.1/dist/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.10.5/font/bootstrap-icons.css">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.1/dist/js/bootstrap.bundle.min.js" integrity="sha384-HwwvtgBNo3bZJJLYd8oVXjrBZt8cqVSpeBNS5n7C8IVInixGAoxmnlMuBnhbgrkm" crossorigin="anonymous"></script>
</head>
<body style="margin-bottom: 30px;">
{%with messages = get_flashed_messages(with_categories=true)%}
{% if messages %}
{%for category, message in messages%}
<div class="alert alert-{{category}} alert-dismissible" role="alert">
    {{message}}
    <button type="button" class="close" data-bs-dismiss="alert" aria-label="Close">
        <span aria-hidden="true">&times;</span>
    </button>
</div>
{%endfor%}
{% endif %}
{% endwith %}
<div class="container-fluid">
    <div class="row justify-content-center" style="margin-top: 50px">
        <div class="text-center">
            <h1>Restaurant Recommendation System: Bangalore</h1>
            <p>This software recommends restaurant in your locality. Currently, this software only contains data of Bangalore. This software is packed with the data of restaurants that are registered with Zomato in the city of Bangalore.</p>
        </div>
    </div>
    <form method="POST" novalidate class="form" style="padding-left: 30%; padding-right: 30%; padding-top: 50px">
        <div class="row justify-content-center">
            {{form.hidden_tag()}}
            <label class="form-label"><font size="4">Select the location</font></label>
            {{form.location(class="form-control")}}
            <label class="form-label"><font size="4">Book a Table</font></label>
            {{form.book_table(class="form-control")}}
            <label class="form-label"><font size="4">Online order</font></label>
            {{form.online_order(class="form-control")}}
            <label class="form-label"><font size="4">Rating</font></label>
            {{form.rating(class="form-control")}}
            <label class="form-label"><font size="4">Reviews</font></label>
            {{form.votes(class="form-control")}}
            <label class="form-label"><font size="4">Approx Cost for 2</font></label>
            {{form.approx_cost(class="form-control")}}
            <label class="form-label"><font size="4">Type of Restaurant</font></label>
            {{form.res_type(class="form-control")}}
            {{form.submit(style="margin-top:20px", class="btn btn-dark")}}<br>
        </div>
    </form>
    <div class="row justify-content-center text-center " style="visibility:{{visibility}}">
        <div class="col-10" style="margin-top: 50px">
            <h2>Recommended Restaurants</h2>
            <p>These are the restaurants that are recommended based on your input. The data is fetched from Zomato API and is not 100% accurate. The data is only for educational purposes.</p>
            <table class="table table-hover table-bordered" style="margin-top: 30px">
                <thead>
                <tr>
                    <td>Name</td>
                    <td>Book Table</td>
                    <td>Online Order</td>
                    <td>Rating</td>
                    <td>Reviews</td>
                    <td>Type</td>
                    <td>Dishes Liked</td>
                    <td>Cuisines</td>
                    <td>Approx Cost</td>
                </tr>
                </thead>
                <tbody>
                {% for i in list %}
                <tr>
                    <td>{{i[0]}}</td>
                    <td>{{i[1]}}</td>
                    <td>{{i[2]}}</td>
                    <td>{{i[3]}}</td>
                    <td>{{i[4]}}</td>
                    <td>{{i[5]}}</td>
                    <td>{{i[6]}}</td>
                    <td>{{i[7]}}</td>
                    <td>{{i[8]}}</td>
                </tr>
                {% endfor %}
                </tbody>
            </table>
            <button type="reset" class="btn btn-dark" onclick="location.href='/'">Reset</button>
        </div>
    </div>
</div>
</body>
</html>